## Redirect和Forward的区别



#### 使用方式

* **forward**
  
* request.getRequestDispatcher("new.jsp").forward(request, response);   //转发到new.jsp
  
* **redirect**

  * response.sendRedirect("new.jsp");   //重定向到new.jsp

  

##### 区别

​	首先，很明显的是，一个是通过request对象调用的，另一个是通过response对象调用。

###### 数据共享与否

​	forward:转发页面和转发到的页面可以共享request里面的数据

​	redirect:不能共享数据

###### URL地址栏显示

​	forward是显示访问的地址，即使服务器有转发再响应回传的操作，但浏览器并不知晓

​	redirect是显示被重定向过的地址，先访问浏览器填写的地址时，会返回重定向状态码302，然后浏览器会自动再去访问传回来的那个重定向URL，于是显示的地址就被改变了，浏览器就知道了被重定向到别的地址去了



#### 本质的区别

* 转发操作是服务器行为，而重定向操作是客户端行为 

* 转发过程：
  * 客户浏览器发送http请求--->web服务器接受此请求--->调用内部的一个方法在容器内部完成请求处理和转发动作--->将目标资源 发送给客户；在这里，转发的路径必须是同一个web容器下的url，其不能转向到其他的web路径上去，中间传递的是自己的容器内的request。在客户浏览器路径栏显示的仍然是其第一次访问的路径，也就是说客户是感觉不到服务器做了转发的。转发行为是浏览器只做了一次访问请求。 

* 重定向过程：
  * 客户浏览器发送http请求--->web服务器接受后发送302状态码响应及对应新的location给客户浏览器--->客户浏览器发现 是302响应，则自动再发送一个新的http请求，请求url是新的location地址--->服务器根据此请求寻找资源并发送给客户。在这里 location可以重定向到任意URL，既然是浏览器重新发出了请求，则就没有什么request传递的概念了。在客户浏览器路径栏显示的是其重定向的 路径，客户可以观察到地址的变化的。重定向行为是浏览器做了至少两次的访问请求的。
  * 重定向，其实是两次request:第一次，客户端request A,服务器响应，并response回来，告诉浏览器，你应该去B。这个时候IE可以看到地址变了，而且历史的回退按钮也亮了。重定向可以访问自己web应用以外的资源。在重定向的过程中，传输的信息会被丢失。 